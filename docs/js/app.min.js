!function(){"use strict";angular.module("app",["ngRoute","ngSanitize","jsonFormatter"])}(),function(){"use strict";angular.module("app").config(["$httpProvider",function(e){}])}(),function(){"use strict";angular.module("app").config(["$locationProvider",function(e){e.html5Mode(!0),e.hashPrefix("")}])}(),function(){"use strict";angular.module("app").run(["$rootScope",function(e){}])}(),function(){"use strict";angular.module("app").factory("DatGui",["$rootScope","SceneOptions","StepperService",function(e,n,t){function o(){function o(n){var t=c.getCurrentStep();t.colors.background=r.colors.background,t.colors.lines=r.colors.lines,t.colors.overLines=r.colors.overLines,t.camera.cameraHeight=r.camera.cameraHeight,t.camera.targetHeight=r.camera.targetHeight,t.circle.position.copy(r.circle.position),e.$broadcast("onOptionsChanged")}function a(e){"a"===e.key.toLowerCase()&&e.ctrlKey&&$(document).find("body").toggleClass("gui-active")}var r=n,c=t,s=new dat.GUI;r.randomize=function(){for(var e=0;e<s.__controllers.length;e++){var n=s.__controllers[e];if(n.__min){var t=n.__min+(n.__max-n.__min)*Math.random();this[n.property]=t,n.updateDisplay()}n.__color&&(n.__color.r=Math.floor(255*Math.random()),n.__color.g=Math.floor(255*Math.random()),n.__color.b=Math.floor(255*Math.random()),n.updateDisplay(),n.setValue(n.__color.hex))}},r.saveJson=function(){var e=c.steps.map(function(e){e=angular.copy(e);var n={background:"#"+new THREE.Color(e.colors.background).getHexString(),lines:"#"+new THREE.Color(e.colors.lines).getHexString(),overLines:"#"+new THREE.Color(e.colors.overLines).getHexString()};return e.colors=n,e});console.log("saveJson",e),i(e,"rossini.js",!0,!0)},s.closed=!0,s.add(r.camera,"cameraHeight",-20,20).listen().onChange(o),s.add(r.camera,"targetHeight",-20,20).listen().onChange(o);var l=s.addFolder("circlePosition");l.add(r.circle.position,"x",-300,300).listen().onChange(o),l.add(r.circle.position,"y",-300,300).listen().onChange(o),l.add(r.circle.position,"z",-300,300).listen().onChange(o);var u=s.addFolder("colors");return u.addColor(r.colors,"background").listen().onChange(o),u.addColor(r.colors,"lines").listen().onChange(o),u.addColor(r.colors,"overLines").listen().onChange(o),s.add(r.audio,"volume",.01,1).onChange(o),s.add(r,"audioStrength",10,100).onChange(o),s.add(r,"noiseStrength",10,100).onChange(o),s.add(r,"circularStrength",.01,.9).onChange(o),s.add(r,"randomize"),s.add(r,"saveJson"),o(),angular.element(window).on("keydown",a),s}var i=function(){var e=document.createElement("a");return document.body.appendChild(e),e.style="display: none",function(n,t,o,i){o&&(n=i?JSON.stringify(n,null,2):JSON.stringify(n));var a=new Blob([n],{type:"octet/stream"}),r=window.URL.createObjectURL(a);e.href=r,e.download=t,e.click(),window.URL.revokeObjectURL(r)}}();return o}])}(),function(){"use strict";angular.module("app").directive("scrollbar",[function(){return{restrict:"A",link:function(e,n,t,o){function i(){var n=Scrollbar.init(a,r);e.$watch(n.contentEl.offsetHeight,function(e){n.update()})}var a=n[0],r={speed:1,damping:.1,overscrollDamping:1,thumbMinSize:20,continuousScrolling:!0,alwaysShowTracks:!1};setTimeout(i,100)}}}])}(),function(){"use strict";var e=angular.module("app");e.directive("slickTunnel",["StepperService",function(e){return{restrict:"A",link:function(n,t,o){function i(){t.hasClass("slick-initialized")&&t.slick("unslick")}function a(){i(),t.slick({arrows:!1,dots:!1,fade:!0,speed:1100,infinite:!1,draggable:!1,asNavFor:".tunnel-bg",cssEase:"cubic-bezier(0.7, 0, 0.3, 1)"})}function r(){var e=$(".slick-active .splitted-letter");TweenMax.staggerTo(e,1,{delay:.2,y:0,x:0,ease:Power3.easeInOut,className:"+=viewed",onComplete:function(){$(".slick-active .cta").addClass("active")}},.009)}function c(){var e=$(".slick-active .splitted-letter");TweenMax.staggerTo(e,1,{delay:0,y:100,x:50,ease:Power3.easeInOut,className:"-=viewed"},.009),$(".slick-active .cta").removeClass("active")}function s(){r(),n.$root.$broadcast("onSlickInit",{current:0})}function l(e,t,o,i){m.slicking=!0,c(),n.$root.$broadcast("onSlickBeforeChange",{current:i,previouse:o})}function u(e,t,o){m.slicking=!1,r(),n.$root.$broadcast("onSlickAfterChange",{current:o})}function d(e){m.slicking||(t.hasClass("slick-initialized")&&(e.deltaX>0||e.deltaY<0?t.slick("slickNext"):(e.deltaX<0||e.deltaY>0)&&t.slick("slickPrev")),e.preventDefault())}function p(){t.off("init",s).off("beforeChange",l).off("afterChange",u).off("mousewheel",d)}var m=e;!function(){t.on("init",s).on("beforeChange",l).on("afterChange",u).on("mousewheel",d)}(),n.$watchCollection(o.slickTunnel,function(e){e&&e.length&&a()}),n.$on("onGoStep",function(e,n){t.hasClass("slick-initialized")&&t.slick("slickGoTo",n)}),n.$on("$destroy",function(){p(),i()})}}}]),e.directive("slickBackgrounds",[function(){return{restrict:"A",link:function(e,n,t){function o(){n.hasClass("slick-initialized")&&n.slick("unslick")}function i(){o(),n.slick({arrows:!1,dots:!1,fade:!0,speed:1100,infinite:!1,lazyLoad:"ondemand",cssEase:"cubic-bezier(0.7, 0, 0.3, 1)"})}e.$watchCollection(t.slickBackgrounds,function(e){e&&e.length&&setTimeout(i,1)}),e.$on("$destroy",function(){o()})}}}])}(),function(){"use strict";angular.module("app").directive("splitText",[function(){return{restrict:"A",link:function(e,n,t){function o(){var e=n[0].childNodes;e=Array.prototype.slice.call(e,0),n.html("").addClass("active");var t=[[]];e.filter(function(e){return 3===e.nodeType||1===e.nodeType}).map(function(e){if(3===e.nodeType)e={text:$.trim(e.textContent),element:"span"};else{if("br"===e.nodeName.toLowerCase())return void t.push([]);e={text:$.trim(e.innerHTML),element:e.nodeName}}""!==e.text&&t[t.length-1].push(e)});for(var o=0;o<t.length;o++){var i=t[o];$('<div class="splitted-row"></div>').appendTo(n);for(var a=0;a<i.length;a++)for(var r=i[a],c=r.element.toLowerCase(),s=r.text,l=s.split(" "),u=0;u<l.length;u++){$("<"+c+' class="splitted-word"></'+c+">").appendTo($(".splitted-row:last"),n);for(var d=l[u],p=d.split(""),m=0;m<p.length;m++){var g=p[m];$('<span class="splitted-letter" data-content="'+g+'">'+g+"</span>").appendTo($(".splitted-word:last"),n)}$('<span class="splitted-space">&nbsp;</span>').appendTo($(".splitted-word:last"),n)}}}setTimeout(function(){o()},1)}}}])}(),function(){"use strict";angular.module("app").directive("yearsFrom",[function(){return{restrict:"A",scope:{from:"=yearsFrom",to:"=yearsTo"},link:function(e,n,t){function o(){function t(){o.html(parseInt(r.from)),i.html(parseInt(r.to))}var o=n.find(".tunnel-year__from"),i=n.find(".tunnel-year__to"),a=Power3.easeOut,r={from:o.html(),to:i.html()};e.to?(n.removeClass("one-year"),TweenLite.to(r,2,{to:e.to,roundProps:"year",onUpdate:t,ease:a})):(n.addClass("one-year"),TweenLite.to(r,2,{to:e.from,roundProps:"year",onUpdate:t,ease:a})),TweenLite.to(r,2,{from:e.from,roundProps:"year",onUpdate:t,ease:a})}e.$watch("from",function(e,n){e&&o()})}}}])}(),function(){"use strict";angular.module("app").controller("RootCtrl",["$scope","SceneOptions","StepperService","AnalyserService","DatGui","$timeout",function(e,n,t,o,i,a){var r={objects:{},options:n,stepper:t},c=r.stepper;c.init().then(function(){e.scene=r,e.stepper=c,e.audio=o,new i});var s={};e.openDetail=function(){return $.get(c.step.url,function(e){a(function(){s.active=!0,s.html=e})}),!1},e.detail=s,console.log("RootCtrl",n)}])}(),function(){"use strict";angular.module("app").service("AnalyserService",["$rootScope","$timeout","$q","$http","SceneOptions","StepperService",function(e,n,t,o,i,a){function r(){if(!T){var e;T=E.createMediaElementSource(f),T.smoothingTimeConstant=.85,T.connect(v),T.connect(E.destination),v.fftSize=2*b.audio.bands,e=v.frequencyBinCount,w.data=new Uint8Array(e)}return w.data}function c(e){h!==e&&(h=e)&&(f.src=e,f.volume=b.audio.volume,s())}function s(){f&&f.play()}function l(){f&&f.pause()}function u(){f&&(w.active=!w.active,w.active?f.play():f.pause())}function d(){var e=y.getCurrentStep();c(e.audio?e.audio.url:null)}function p(){w.data&&v.getByteFrequencyData(w.data)}function m(){var e=t.defer();return!b.device.ios||w.unlocked?e.resolve():(T=g(),n(function(){T.playbackState!==T.PLAYING_STATE&&T.playbackState!==T.FINISHED_STATE||(w.unlocked=!0,e.resolve())})),console.log("AudioAnalyser.unlock"),e.promise}function g(){var e=new k,n=e.createBufferSource(),t=e.createBuffer(1,1,22050);return n.buffer=t,n.connect(e.destination),n.noteOn&&n.noteOn(0),console.log("AudioAnalyser.doUnlock"),n}var v,f,h,w=this,b=i,y=a,k=window.AudioContext||window.webkitAudioContext,E=new k;v=E.createAnalyser(),f=new Audio,f.addEventListener("canplay",r);var T=null;w.unlocked=!1,window.addEventListener("touchstart",m,!1),e.$on("onStepChanged",function(e){d()}),e.$on("onOptionsChanged",function(e){f&&(f.volume=b.audio.volume)}),this.active=!0,this.data=null,this.audio=f,this.update=p,this.play=s,this.pause=l,this.toggle=u,this.unlock=m}])}(),function(){"use strict";angular.module("app").service("StepperService",["$rootScope","$timeout","$q","$http","$sce","SceneOptions",function(e,n,t,o,i,a){function r(){var e=t.defer();return o.get("json/rossini.js").then(function(n){var t=n.data;angular.forEach(t,function(e){e.titleTrusted=i.trustAsHtml(e.title),e.circle.position=(new THREE.Vector3).copy(e.circle.position),w.push(e)}),u(0),e.resolve(w)},function(n){e.reject(n)}),e.promise}function c(){for(;b.length;)b.pop().kill()}function s(e,n,t,o){c();var i=new THREE.Color(n.colors.background),a=new THREE.Color(n.colors.lines),r=new THREE.Color(n.colors.overLines);b.push(TweenLite.to(v.values,t,{pow:e,cameraHeight:n.camera.cameraHeight,targetHeight:n.camera.targetHeight,delay:0,ease:Power2.easeInOut,onComplete:function(){o&&o()}})),b.push(TweenLite.to(v.values.background,t,{r:i.r,g:i.g,b:i.b,delay:0,ease:Power2.easeInOut,onUpdate:function(){var e=v.values.background.getHexString();document.body.style.backgroundColor="#"+e}})),b.push(TweenLite.to(v.values.lines,t,{r:a.r,g:a.g,b:a.b,delay:0,ease:Power2.easeInOut})),b.push(TweenLite.to(v.values.overLines,t,{r:r.r,g:r.g,b:r.b,delay:0,ease:Power2.easeInOut}))}function l(e){var n=v.current,t=w[n];s(n/w.length,t,e,function(){c()})}function u(t){n(function(){var n=v.current||0;v.current=h=t;var o=w[t];v.step=o,f.colors.background=o.colors.background,f.colors.lines=o.colors.lines,f.colors.overLines=o.colors.overLines,f.camera.cameraHeight=o.camera.cameraHeight,f.camera.targetHeight=o.camera.targetHeight,f.circle.position.copy(o.circle.position),e.$broadcast("onStepChanged",{current:t,previous:n}),l(v.duration)})}function d(){return w[h]}function p(e){return w[e]}function m(){v.slicking||(h--,h=Math.max(0,h),u(h),e.$broadcast("onGoStep",h))}function g(){v.slicking||(h++,h=Math.min(w.length-1,h),u(h),e.$broadcast("onGoStep",h))}var v=this,f=a,h=0,w=[],b=[],y={pow:0,background:new THREE.Color(f.colors.background),lines:new THREE.Color(f.colors.lines),overLines:new THREE.Color(f.colors.overLines),cameraHeight:f.camera.cameraHeight,targetHeight:f.camera.targetHeight};e.$on("onOptionsChanged",function(){var e=v.current,n=w[e];v.values.cameraHeight=n.camera.cameraHeight,v.values.targetHeight=n.camera.targetHeight,v.values.background.copy(new THREE.Color(n.colors.background)),v.values.lines.copy(new THREE.Color(n.colors.lines)),v.values.overLines.copy(new THREE.Color(n.colors.overLines))}),e.$on("onSlickBeforeChange",function(e,n){u(n.current)}),this.init=r,this.values=y,this.duration=2.5,this.steps=w,this.getCurrentStep=d,this.getStepAtIndex=p,this.current=h,this.previous=m,this.next=g}])}(),function(){"use strict";function e(e,t){for(var o=e*t,i=new Uint8Array(o),a=new n,r=1,c=100*Math.random(),s=0;s<4;s++){for(var l=0;l<o;l++){var u=l%e,d=~~(l/e);i[l]+=Math.abs(a.noise(u/r,d/r,c)*r*1.75)}r*=5}return i}function n(){function e(e){return e*e*e*(e*(6*e-15)+10)}function n(e,n,t){return n+e*(t-n)}function t(e,n,t,o){var i=15&e,a=i<8?n:t,r=i<4?t:12==i||14==i?n:o;return(0==(1&i)?a:-a)+(0==(2&i)?r:-r)}for(var o=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],i=0;i<256;i++)o[256+i]=o[i];return{noise:function(i,a,r){var c=Math.floor(i),s=Math.floor(a),l=Math.floor(r),u=255&c,d=255&s,p=255&l;i-=c,a-=s,r-=l;var m=i-1,g=a-1,v=r-1,f=e(i),h=e(a),w=e(r),b=o[u]+d,y=o[b]+p,k=o[b+1]+p,E=o[u+1]+d,T=o[E]+p,H=o[E+1]+p;return n(w,n(h,n(f,t(o[y],i,a,r),t(o[T],m,a,r)),n(f,t(o[k],i,g,r),t(o[H],m,g,r))),n(h,n(f,t(o[y+1],i,a,v),t(o[T+1],m,a,r-1)),n(f,t(o[k+1],i,g,v),t(o[H+1],m,g,v))))}}}function t(e,n,t){var o=2*Math.random()-1,i=Math.abs(o);return(t?Math.floor(o/i):1)*(e+(n-e)*i)}angular.module("app").directive("scene",["SceneOptions","StepperService","AnalyserService",function(n,o,i){return{restrict:"A",scope:{data:"=scene"},link:function(a,r,c){function s(){R.x=20*x.x+10*Math.cos(R.i/100),R.y=20*x.y+10*Math.sin(R.i/100),R.i++}function l(){function e(){v.add(p)}function n(){v.remove(p)}function o(){var e=1/H.steps.length,n=.1*e,t=H.values.pow,o=(t+n).mod(1),i=(H.getCurrentStep(),l.getPointAt(t));i.y+=H.values.cameraHeight,p.material.uniforms.visibility.value=Math.min(1,H.values.pow+e);var a=l.getPointAt(o);a.y+=H.values.targetHeight,f.position.copy(i),f.target.copy(a),f.position.x+=(i.x+R.x-f.position.x)/12,f.position.y+=(i.y+R.y-f.position.y)/12,f.lookAt(f.target)}var i=new THREE.Vector2(window.innerWidth,window.innerHeight),a=new MeshLineMaterial({color:H.values.lines,lineWidth:5,opacity:.8,transparent:!0,depthTest:!1,sizeAttenuation:1,near:1,far:100,resolution:i}),r=new THREE.Vector3,c=new Array(T.ribbon.points).fill(null).map(function(){var e=(new THREE.Vector3).copy(r);return r.x+=t(500,1e3,!0),r.y+=t(10,40,!0),r.z+=t(1e3,2e3,!1),e}),s=new THREE.CatmullRomCurve3(c);s.type="catmullrom",s.closed=!1;var l=new THREE.CatmullRomCurve3(s.points.map(function(e){return new THREE.Vector3(e.x,e.y+20,e.z)}));l.type="catmullrom",l.closed=!1;var u=new THREE.Geometry;u.vertices=s.getPoints(T.ribbon.vertices);var d=new MeshLine;d.setGeometry(u);var p=new THREE.Mesh(d.geometry,a);return e(),f.target=f.target||new THREE.Vector3(0,0,0),{object:p,spline:s,cameraSpline:l,geometry:u,material:a,add:e,remove:n,update:o}}function u(n){function t(){v.add(u),U.adding=Date.now(),U.removing=!1,U.enabled=!0,U.tween&&U.tween.kill(),U.tween=TweenLite.to(U,2,{pow:1,delay:0,ease:Elastic.easeOut.config(1,.3),onComplete:function(){U.adding=!1}})}function o(){console.log("objects.circles.remove"),U.adding=!1,U.removing=Date.now(),U.tween&&U.tween.kill(),U.tween=TweenLite.to(U,.35,{pow:0,delay:0,ease:Power2.easeOut,onComplete:function(){U.removing=!1,U.enabled=!1,v.remove(u)}})}function i(e,n){var t=new THREE.Geometry,o=r(t,n,1);M.push(o);var i=null;if(j){var a=new MeshLine;a.setGeometry(t),O.push(t),A.push(a),i=new THREE.Mesh(a.geometry,$)}else i=new THREE.LineLoop(t,S.clone());return I.add(i),i}function a(e,n){var t=new THREE.Geometry,o=r(t,n,2);z.push(o);var i=null;if(j){var a=new MeshLine;a.setGeometry(t),P.push(t),_.push(a),i=new THREE.Mesh(a.geometry,L)}else i=new THREE.LineLoop(t,x.clone());return q.add(i),i}function r(e,t,o){var i=new Array(g).fill(null).map(function(i,a){var r=a/g,c=360*r;c+=60*n,c+=30*o,c+=360/g*.1*t;var s=c*Math.PI/180,l=T.circle.radius,u=0;return u+=t*t*t*.005,i=new THREE.Vector3,i.sincos={base:l,increment:u,radius:l,x:Math.cos(s),y:Math.sin(s)},e.vertices.push(i),i});return e.vertices.push(i[0]),i}function c(e,n,t,o){var i=T.audioStrength,a=T.noiseStrength,r=T.circularStrength,c=1===o?d:p,s=C.data;angular.forEach(n,function(e,n){var l=T.audio.bands,u=n%l,d=(g-1-n)%l,p=s?(s[u]+s[d])/2/l:0,v=1===o?0:64,f=t*g+(n+v+0)%g,h=t*g+(g-1-n-v+0)%g,w=(c[f]+c[h])/2/64,b=1-(m-t)/m*r,y=e.sincos.base+e.sincos.increment*w+e.sincos.increment*p+a*w*b+i*p*b+0;e.sincos.radius=y,e.x=e.sincos.x*e.sincos.radius,e.y=e.sincos.y*e.sincos.radius,e.z=10*o}),e.verticesNeedUpdate=!0}function s(){angular.forEach(B,function(e,n){c(e.geometry,M[n],n,1),e.material.opacity=(0+1*n/m)*U.pow,j&&A[n].setGeometry(O[n])}),angular.forEach(N,function(e,n){c(e.geometry,z[n],n,2),e.material.opacity=(0+1*n/m)*U.pow,j&&_[n].setGeometry(P[n])}),I.rotation.z+=.001,q.rotation.z-=.001,w>1023&&G.position.copy(h.circle.position),G.rotation.x+=(.00625*R.y-G.rotation.x)/12,G.rotation.y+=(.0125*R.x-G.rotation.y)/12;var e=E.ribbon.cameraSpline.getPointAt((n+.1)/H.steps.length);e.y+=H.values.targetHeight,u.position.copy(e),u.scale.x=u.scale.y=u.scale.z=.001+.14*U.pow,u.lookAt(f.position),k.opacity=U.pow,S.color=H.values.lines,x.color=H.values.overLines}var l,u,d=e(T.circle.points,T.circle.lines),p=e(T.circle.points,T.circle.lines),m=T.circle.lines,g=T.circle.points,h=H.getStepAtIndex(n),b=(new THREE.TextureLoader).load(h.circle.texture);b.wrapS=THREE.RepeatWrapping,b.wrapT=THREE.RepeatWrapping,b.repeat.set(1,1);var y=new THREE.Vector2(window.innerWidth,window.innerHeight),k=new THREE.MeshBasicMaterial({color:16777215,map:b,transparent:!0}),S=new THREE.LineBasicMaterial({color:H.values.lines,transparent:!0}),x=new THREE.LineBasicMaterial({color:H.values.overLines,transparent:!0}),$=new MeshLineMaterial({color:H.values.lines,lineWidth:1,depthTest:!1,opacity:1,transparent:!0,resolution:y}),L=new MeshLineMaterial({color:H.values.overLines,lineWidth:1,depthTest:!1,opacity:1,transparent:!0,resolution:y});u=new THREE.Object3D;var M=[],z=[],A=[],_=[],O=[],P=[],j=!1,G=new THREE.Object3D;u.add(G),l=new THREE.PlaneGeometry(2*T.circle.radius-20,2*T.circle.radius-20,8,8);var D=new THREE.Mesh(l,k);D.position.z=-30,G.add(D);var I=new THREE.Object3D;G.add(I);var q=new THREE.Object3D;G.add(q);var B=new Array(m).fill(null).map(i),N=new Array(m).fill(null).map(a),U={pow:0,enabled:!1,adding:!1,removing:!1};return{add:t,remove:o,object:u,state:U,update:s}}function d(){s(),C.update(),S&&S.update(),E.ribbon&&E.ribbon.update(),angular.forEach(E.circles,function(e){e&&e.state.enabled&&e.update()}),h.render(v,f)}function p(){g.begin(),d(),g.end(),requestAnimationFrame(p)}var m=a.data;if(m){var g,v,f,h,w,b,y,k,E=m.objects,T=n,H=o,C=i,S=null;a.$on("onStepChanged",function(e,n){var t=null,o=n.current,i=n.previous;o>0&&(t=E.circles[o]||u(o),t.add()),E.circles[o]=t,setTimeout(function(){if(H.current!==i&&i>0){var e=E.circles[i];e&&e.remove()}},1e3*H.duration)}),a.$on("onOptionsChanged",function(e){});var x={x:0,y:0},R={x:0,y:0,i:0};!function(){w=window.innerWidth,b=window.innerHeight,y=w/2,k=b/2;var e=w/b;v=new THREE.Scene,f=new THREE.PerspectiveCamera(30,e,.001,2e4),h=new THREE.WebGLRenderer({alpha:!0,antialias:!0,logarithmicDepthBuffer:!0}),h.setClearColor(0,0),h.setSize(w,b),g=new Stats,r[0].appendChild(h.domElement),r[0].appendChild(g.dom)}(),function(){E.ribbon=l(),E.circles=new Array(H.steps).fill(null)}(),function(){function e(){w=window.innerWidth,b=window.innerHeight,y=w/2,k=b/2,h.setSize(w,b),f.aspect=w/b,f.updateProjectionMatrix()}function n(e){var n=window.innerWidth/2,t=window.innerHeight/2;x.x=(e.clientX-n)/n,x.y=(e.clientY-t)/t}window.addEventListener("resize",e,!1),document.addEventListener("mousemove",n,!1)}(),p()}}}}]),Number.prototype.mod=function(e){return(this%e+e)%e}}(),function(){"use strict";var e=angular.module("app"),n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=(function(){var e=!1;(function(n){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(e=!0)})(navigator.userAgent||navigator.vendor||window.opera)}(),function(){var e=!1;return function(n){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}());e.constant("SceneOptions",{colors:{background:15395048,lines:11845597,overLines:3363748},camera:{cameraHeight:0,targetHeight:5},ribbon:{steps:12,points:24,vertices:t?1200:2400},circle:{position:new THREE.Vector3,radius:200,lines:24,points:t?64:128},audio:{volume:.9,bands:t?64:128},audioStrength:100,noiseStrength:25,circularStrength:.9,device:{mobile:t,ios:n}})}();
//# sourceMappingURL=app.min.js.map
